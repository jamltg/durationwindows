/**
 * StarshineJS: SVG Sparkling Stars
 * Created by ArtRayd and Aleksandr Efremov Â© 2015
 */
(function(h){function u(a){if(v(a)){for(var d=arguments,c=1;c<d.length;c++){var b=d[c];if(v(b))for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])}return a}}function v(a){return"object"===typeof a&&"[object Array]"!==Object.prototype.toString.call(a)}var w={},f={x:0,y:0,size:50,color:"#fff",duration:1E3,interval:1E3,delay:0},n={};this[h]=function(a){var d=parseFloat;if(a){u.apply(null,arguments);var c=a.ID||this.ID;if(c){var b=w[c]||this;w[c]=b;b.ID=c;b.defaults||(b.defaults={});var e=d(a.x);isNaN(e)||
(b.defaults.x=e);void 0===b.defaults.x&&(b.defaults.x=f.x);e=d(a.y);isNaN(e)||(b.defaults.y=e);void 0===b.defaults.y&&(b.defaults.y=f.y);e=d(a.size);isNaN(e)||(b.defaults.size=e);void 0===b.defaults.size&&(b.defaults.size=f.size);e=d(a.duration);isNaN(e)||(b.defaults.duration=Math.round(e));void 0===b.defaults.duration&&(b.defaults.duration=f.duration);e=d(a.interval);isNaN(e)||(b.defaults.interval=Math.round(e));void 0===b.defaults.interval&&(b.defaults.interval=f.interval);e=d(a.delay);isNaN(e)||
(b.defaults.delay=Math.round(e));void 0===b.defaults.delay&&(b.defaults.delay=f.delay);b.defaults.color=a.color||b.defaults.color||f.color;b.defaults.starType=a.starType||b.defaults.starType||f.starType;var k=b.draw,z;k||(k=SVG(c),a.debug&&(z=!0));b.draw=k;var l=d(a.width),m=d(a.height);l&&m&&k.viewbox(0,0,l,m);if(!z)return b;var g=document.querySelector("#"+c+" svg");g.style.fontSize="16px";k.rect(100,25).move(0,0).attr({fill:"#fff","fill-opacity":.5});g.addEventListener("mousemove",function(a){var b=
g.getBoundingClientRect(),d=parseFloat(getComputedStyle(g,null).getPropertyValue("padding-left")),e=parseFloat(getComputedStyle(g,null).getPropertyValue("padding-top")),d=a.pageX-b.left-g.clientLeft-d-window.pageXOffset;a=a.pageY-b.top-g.clientTop-e-window.pageYOffset;l&&m&&(d*=l/parseFloat(getComputedStyle(g,null).getPropertyValue("width")),a*=m/parseFloat(getComputedStyle(g,null).getPropertyValue("height")));"undefined"!==typeof n[c]&&n[c].remove();n[c]=k.text(Math.round(d)+" / "+Math.round(a)).move(2,
2).fill("#000")},!1);return b}}};this[h].prototype.star=function(a){var d=parseFloat,c=this;a=a||{};u.apply(null,arguments);var b=c.d,e=d(a.interval),e=isNaN(e)?c.defaults.interval:Math.round(e),k=d(a.x),k=isNaN(k)?c.defaults.x:k,f=d(a.y),f=isNaN(f)?c.defaults.y:f,l=d(a.size),l=(isNaN(l)?c.defaults.size:l)/360,m=d(a.duration),m=(isNaN(m)?c.defaults.duration:Math.round(m))/2,g=a.color||c.defaults.color,p=a.starType||c.defaults.starType,h=d(a.delay),h=isNaN(h)?c.defaults.delay:Math.round(h),d=c.draw,
r=d.group();if(c.b&&c.c){b=c.a?e+=b:e=0;c.d=b;c.a++;if("cartoon"!==p){var t=d.gradient("radial",function(a){a.at({offset:0,color:g,opacity:1});a.at({offset:1,color:g,opacity:0})}),b="round"===p?360:200,n=d.ellipse(b,b).fill(t).center(0,0).opacity(.9);r.add(n)}if("quad"===p)var q=d.polyline("0,180 175,175 180,0 185,175 360,180 185,185 180,360 175,185 0,180");else"cartoon"===p?q=d.polyline("0,180 142,142 180,0 223,142 360,180 223,223 180,360 142,223 0,180"):"round"!==p&&(q=d.polyline("0,180 170,176 53,53 176,170 180,0 184,170 307,53 190,176 360,180 190,184 307,307 184,190 180,360 176,190 53,307 170,184 0,180"));
"round"!==p&&("cartoon"===p?q.fill(g):q.fill(t),r.add(q.center(0,0)));r.transform({scaleX:1E-5,scaleY:1E-5}).move(k,f);r.animate(m,">",e).transform({scaleX:l,scaleY:l}).after(function(){r.animate(m,"<",0).transform({scaleX:1E-5,scaleY:1E-5}).after(function(){r.remove();"undefined"!==typeof q&&q.remove();"undefined"!==typeof n&&n.remove();"undefined"!==typeof t&&t.remove();c.a--;c.a||setTimeout(function(){c.d=0;c.b?(c.c=!0,c.b.call(c),c.c=!1):c.e=!1},h)})});return c}};this[h].prototype.loop=function(a){if(a)return this.b=
a,this.d=0,this.a=this.a||0,this.e||(this.c=this.e=!0,a.call(this),this.c=!1),this};this[h].prototype.stop=function(){delete this.b;return this};this[h].prototype.randArg=function(){var a=arguments;return a[Math.random()*a.length|0]};this[h].prototype.randNum=function(a,d){a=parseFloat(a);d=parseFloat(d);isNaN(a)?(a=0,d=1):isNaN(d)&&(d=a,a=0);return Math.random()*(d-a)+a}}).call(window,"StarShine");
